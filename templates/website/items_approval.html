{% extends 'base.html' %}

{% block title %}Admin Home Page{% endblock %}

{% block content %}
<style>
    /* CSS Styles */
    .item-list {
        width: 80%;
        margin: 0 auto;
    }

    .item {
        border: 1px solid #ccc;
        padding: 10px;
        margin-bottom: 10px;
        list-style: none;
    }

    .product-img {
        max-width: 100px;
        max-height: 100px;
        display: block;
        margin-bottom: 10px;
    }

    .item-details {
        margin-bottom: 10px;
    }

    .action-form {
        display: inline-block;
        margin-right: 10px;
    }

    .approve-btn,
    .decline-btn {
        padding: 5px 10px;
        background-color: #4CAF50;
        color: white;
        border: none;
        border-radius: 3px;
        cursor: pointer;
    }

    .approve-btn:hover,
    .decline-btn:hover {
        background-color: #45a049;
    }

    .approve-btn:disabled,
    .decline-btn:disabled {
        background-color: #cccccc;
        cursor: not-allowed;
    }
</style>
<div class="item-list">
    <h1>Item List</h1>
    <ul>
        {% for item in items %}
        {% if not item.is_approved %}
        <li class="item">
            {% if item.image %}
            <img class="product-img" src="{{ item.image.url }}" alt="Product Image">
            {% endif %}
            <div class="item-details">
                <p>Title: {{ item.title }}</p>
                <p>Description: {{ item.description }}</p> <!-- Corrected typo -->
                <p>Email: {{ item.user.email }}</p>
            </div>
            <form class="action-form" action="{% url 'approve_item' item.id %}" method="post">
                {% csrf_token %}
                <button type="submit" class="approve-btn">Approve</button>
            </form>
            <form class="action-form" action="{% url 'decline_item' item.id %}" method="post">
                {% csrf_token %}
                <button type="submit" class="decline-btn">Decline</button>
            </form>
        </li>
        {% endif %}
        {% endfor %}
    </ul>
</div>
{% endblock %}